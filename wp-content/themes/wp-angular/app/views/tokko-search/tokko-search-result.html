<!-- Elemento padre -->
<div ui-view="search" autoscroll='false'/>
<div class="row bg-bordo ng-scope" ng-if="$state.current.name == 'propiedades'
  || $state.current.name == 'alquileres'
  || $state.current.name == 'ventas'">
  <div class="container">
    <div ui-view='title'>
      <h1 class="title">{{$state.current.name}}</h1>
    </div>
  </div>
</div>
<div class="row bg-white ng-scope" ng-if="$state.current.name == 'propiedades'
  || $state.current.name == 'alquileres'
  || $state.current.name == 'ventas'">
  <div class="container">
    <div>
      <div class="col-sm-12 col-xs-12 propiedades">
        <div ng-show="vm.spinner" class="spinner" ng-if="!vm.properties">
          <i class="fa fa-spinner fa-spin"></i>
        </div>
        <div ng-if="vm.error">{{vm.error}}</div>
        <div class="col-md-3 card" ng-repeat="propiedad in vm.properties" ng-class-odd="'odd'">
          <div ng-if="vm.properties" class="inner-card">
            <a ui-sref="propiedades.detalle({data: propiedad , id:propiedad.id})" class="thumb">
              <h2 ng-text-truncate="propiedad.fake_address"
                  ng-tt-chars-threshold="36"
                  ng-tt-no-toggling></h2>
              <div class="pic">
                <div class="img" style="background-image: url('{{propiedad.photos[0].image}}')"></div>
            </div>
            </a>
            <div class="dire">
              <div class="dire">
                <div ng-if="propiedad.zona && propiedad.barrio">
                  <i class="typcn typcn-location-outline"></i>
                  <p>{{propiedad.zona}} | {{propiedad.barrio}}</p>
                </div>
                <div ng-if="!propiedad.zona">
                  <i class="typcn typcn-location-outline"></i>
                  <p>{{propiedad.barrio}}</p>
                </div>
              </div>
            </div>
            <div class="dire">
              <i class="typcn typcn-home-outline"></i>
              <p>{{propiedad.type.name}}</p>
            </div>
            <div class="more">
              <a ui-sref="propiedades.detalle({data: propiedad , id:propiedad.id})">
                <i class="typcn typcn-plus"></i>
              </a>
            </div>
          </div>
        </div>
        <div class="col-sm-12 col-xs-12 paginador" ng-if="vm.properties">
          <ul uib-pagination boundary-links = true
          total-items = "vm.totalItems" items-per-page = "vm.itemsPerPage"
          ng-model="vm.currentPage" ng-change="vm.pageChanged()" boundary-links="true"
          previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;"
          last-text="&raquo;" ></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<div ui-view="detalle"/>
